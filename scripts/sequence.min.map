{"version":3,"file":"sequence.min.js","sources":["../src/sequence.js"],"names":["defineSequence","imagesLoaded","Hammer","Sequence","element","options","isArray","object","Object","prototype","toString","call","extend","a","b","i","addEvent","obj","type","fn","attachEvent","window","event","addEventListener","removeEvent","detachEvent","removeEventListener","getElementsByClassName","node","classname","searchClass","document","j","classElements","els","getElementsByTagName","elsLen","length","pattern","RegExp","test","className","convertTimeToMs","time","convertedTime","fraction","indexOf","parseFloat","replace","hasClass","el","name","addClass","removeClass","removeNoJsClass","self","transitionsSupported","steps","step","_animation","resetInheritedSpeed","getPaginationIndex","paginationElement","target","previousTarget","localName","parentNode","undefined","topLevel","allTopLevel","defaults","startingStepId","startingStepAnimatesIn","cycle","phaseThreshold","reverseWhenNavigatingBackwards","moveActiveStepToTop","animateCanvas","animateCanvasDuration","autoPlay","autoPlayThreshold","autoPlayDirection","navigationSkip","navigationSkipThreshold","fadeStepWhenSkipped","fadeStepTime","preventReverseSkipping","nextButton","prevButton","pauseButton","unpauseThreshold","pauseOnHover","pagination","preloader","preloadTheseSteps","preloadTheseImages","hideStepsUntilPreloaded","keyNavigation","numericKeysGoToSteps","keyEvents","left","sequence","prev","right","next","swipeNavigation","swipeEvents","up","down","swipeHammerOptions","prevent_mouseevents","hashTags","hashDataAttribute","hashChangesOnFirstStep","fallback","speed","layout","domThreshold","resizeThreshold","Modernizr","c","x","cssText","z","A","B","d","e","C","f","bind","D","charAt","toUpperCase","slice","m","join","split","n","u","w","documentElement","g","h","createElement","style","l","toLowerCase","o","svg","p","s","t","v","hasOwnProperty","constructor","Function","this","TypeError","arguments","apply","concat","cssanimations","csstransitions","createElementNS","createSVGRect","E","push","addTest","enableClasses","_version","_domPrefixes","_cssomPrefixes","testProp","testAllProps","prefixed","getSteps","parent","elements","elementsLength","_getAnimationMap","init","animationMap","clonedSequence","createClone","clonedCanvas","clonedSteps","originalClasses","destroyClone","noOfSteps","stepNo","clonedStepElement","realStepElement","clonedStepChildren","realStepChildren","noOfStepChildren","phases","phase","realElement","styles","elementNo","maxDuration","maxDelay","maxComputedDuration","elementProperties","getComputedStyle","currentStyle","transitionDuration","transitionDelay","transitionTimingFunction","computedDuration","duration","delay","timingFunction","cloneNode","display","id","insertBefore","removeChild","_ui","defaultElements","getElement","option","querySelectorAll","show","transition","opacity","hide","callback","setTimeout","_autoPlay","isAutoPlayActive","isPaused","isHardPaused","start","unpause","unpaused","pause","stop","paused","threshold","clearTimeout","autoPlayTimer","moveCanvas","animate","canvas","stepX","offsetLeft","stepY","offsetTop","position","canvasPreviousPosition","_firstRun","transform","currentStepElement","nextStepElement","prevStepElement","prevStepId","zIndex","manageNavigationSkip","direction","currentStep","nextStep","activeStepsLength","navigationSkipThresholdActive","phaseThresholdTimer","stepProperties","isAnimating","stepElement","stepSkipped","changeStep","stepToAdd","currentStepId","stepToRemove","reverseProperties","stepDurations","noOfElements","stepElements","reverseTimingFunction","forward","hashTagNav","domDelay","startAnimateIn","reverse","currentPhaseDuration","nextPhaseDuration","nextPhaseThreshold","stepDurationTotal","animationStarted","_currentPhaseStarted","_nextPhaseStarted","phaseEnded","_currentPhaseEnded","_nextPhaseEnded","stepEnded","currentPhaseStarted","currentPhaseEnded","_hashTags","update","nextPhaseStarted","nextPhaseEnded","isActive","animationFinished","getStepDurations","nextStepId","durations","nextDelay","currentDelay","reverseThreshold","Math","abs","currentPhaseDurationTotal","nextPhaseDurationTotal","nextPhaseDurationIncThreshold","reversePhase","animate-out","animate-in","timingFunctionToCubicBezier","linear","ease","ease-in","ease-in-out","ease-out","cubicBezier","cubicBezierLength","reversedCubicBezier","getStepProperties","numberOfStepElements","getShortestDirection","nextId","currentId","forwardDirection","reverseDirection","getDirection","propertySupport","animationsSupported","_animationFallback","unit","from","to","Date","getTime","timer","setInterval","min","clearInterval","setupCanvas","overflow","whiteSpace","canvasWidth","offsetWidth","width","height","layoutOption","currentStepX","currentStepY","nextStepX","nextStepY","top","goTo","correspondingStepId","newHashTag","location","hash","stepHashTags","getStepHashTags","currentHashTag","hasCorrespondingStep","correspondingStep","elementHashTag","dataset","sequenceHashtag","hashTagId","history","pushState","setupEvent","addHashChange","func","before","removeHashChange","hashChangeFuncs","oldHref","href","splice","newHref","_oldHref","newURL","oldURL","_preload","append","addStyles","hideAndShowSteps","stepImagesToPreload","saveImagesToArray","individualImagesToPreload","imagesToPreload","imgLoad","on","complete","progress","instance","image","result","isLoaded","preloadProgress","img","src","preloaded","defaultStyles","head","styleElement","styleSheet","appendChild","createTextNode","preloadIndicator","firstChild","preloadIndicatorTimer","removeStyles","images","srcOnly","imageLength","imagesInStep","imagesInStepLength","Image","remove","innerHTML","manageEvent","list","load","click","mousemove","mouseleave","keydown","hashchange","resize","add","hashChange","resizeThrottle","button","togglePause","eventElements","eventElementsLength","handler","eventProperties","elementLength","insideElement","cursor","elementLeft","elementRight","clientWidth","elementTop","elementBottom","clientHeight","clientX","clientY","previouslyInside","gesture","preventDefault","keyCodeChar","parseInt","String","fromCharCode","keyCode","throttledEvents","throttledResize","throttleTimer","_init","prevStep","goToFirstStep","elementsAnimating","destroy","ignorePhaseThreshold"],"mappings":"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"}